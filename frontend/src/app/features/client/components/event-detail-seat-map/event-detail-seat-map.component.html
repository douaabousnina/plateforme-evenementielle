@let sections = sections();
@let title = sectionTitle();
@let expandLabel = expandLabel();
@let chooseOnMapLabel = chooseOnMapLabel();
@let availableLabel = availableLabel();
@let selectedLabel = selectedLabel();
@let occupiedLabel = occupiedLabel();
<section>
  <div class="flex justify-between items-end mb-4">
    <h3 class="text-2xl text-white font-bold">{{ title }}</h3>
    <button type="button" class="text-primary text-sm font-medium hover:text-white transition-colors flex items-center gap-1" (click)="expandClick.emit()">
      <span class="material-symbols-outlined text-sm">open_in_full</span> {{ expandLabel() }}
    </button>
  </div>
  <div class="bg-slate-800 rounded-3xl p-8 border border-slate-700 relative overflow-hidden">
    <div class="w-2/3 mx-auto h-12 bg-gradient-to-b from-primary/40 to-transparent rounded-t-xl mb-12 flex items-center justify-center border-t border-primary/50 shadow-[0_-10px_20px_rgba(99,102,241,0.2)]">
      <span class="text-white/70 text-sm font-bold tracking-widest uppercase">Scène Principale</span>
    </div>
    <div class="flex flex-col gap-3 items-center">
      @for (section of sections; track section.id) {
        <div
          class="w-1/2 h-20 border-2 border-dashed border-white/20 rounded-xl flex items-center justify-center mb-6 hover:bg-white/5 cursor-pointer transition-colors">
          <span class="text-slate-400 text-xs font-bold uppercase">
            {{ section.name }}@if (section.price != null) { - {{ section.price }}€ }
          </span>
        </div>
      }
    </div>
    <div class="mt-8 flex justify-center gap-6">
      <div class="flex items-center gap-2">
        <div class="w-3 h-3 rounded-full border border-white/40"></div>
        <span class="text-xs text-slate-400">{{ availableLabel() }}</span>
      </div>
      <div class="flex items-center gap-2">
        <div class="w-3 h-3 rounded-full bg-primary shadow-[0_0_5px_rgba(99,102,241,0.6)]"></div>
        <span class="text-xs text-white font-medium">{{ selectedLabel() }}</span>
      </div>
      <div class="flex items-center gap-2">
        <div class="w-3 h-3 rounded-full bg-white/20"></div>
        <span class="text-xs text-slate-400">{{ occupiedLabel() }}</span>
      </div>
    </div>
    <div class="mt-8 text-center">
      <button type="button" class="px-6 py-3 bg-white/5 hover:bg-white/10 border border-white/10 rounded-full text-white text-sm font-medium transition-colors" (click)="chooseOnMapClick.emit()">
        {{ chooseOnMapLabel() }}
      </button>
    </div>
  </div>
</section>
