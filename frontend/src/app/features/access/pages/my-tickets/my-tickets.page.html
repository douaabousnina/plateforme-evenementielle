<app-header/>

<div class="my-tickets-page">
  <div class="my-tickets-container">
    <!-- Header -->
    <div class="page-header">
      <h1 class="page-title">Mes Billets</h1>
      <p class="page-subtitle">Retrouvez tous vos billets d'événements</p>
    </div>

    <!-- Ticket Filters -->
    <app-ticket-filters 
      [activeTab]="activeTab"
      [counts]="ticketCounts"
      (tabChange)="onTabChange($event)">
    </app-ticket-filters>

    <!-- Loading State -->
    <div *ngIf="loading" class="loading-state">
      <div class="spinner"></div>
    </div>

    <!-- Empty State -->
    <div *ngIf="!loading && filteredTickets.length === 0" class="empty-state">
      <span class="material-symbols-outlined empty-icon">confirmation_number</span>
      <p class="empty-text">Aucun billet dans cette catégorie</p>
    </div>

    <!-- Tickets Grid -->
    <div *ngIf="!loading && filteredTickets.length > 0" 
         class="tickets-grid">
      <app-ticket-card 
        *ngFor="let ticket of filteredTickets"
        [ticket]="ticket"
        (qrClick)="openQRModal($event)">
      </app-ticket-card>
    </div>
  </div>

  <!-- QR Modal -->
  <app-qr-modal 
    *ngIf="selectedTicket"
    [ticket]="selectedTicket"
    [show]="showQRModal"
    (closeModal)="closeQRModal()"
    (refresh)="onQrRefresh($event)">
  </app-qr-modal>
</div>
