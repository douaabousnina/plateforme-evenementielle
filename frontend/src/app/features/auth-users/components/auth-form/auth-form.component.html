
<form class="auth-form" (ngSubmit)="submitForm()">

  @if (errorMessage()) {
    <div class="alert alert-error">
      {{ errorMessage() }}
    </div>
  }
  @if (successMessage()) {
    <div class="alert alert-success">
      
      <span>{{ successMessage() }}</span>
    </div>
  }
  <div class="form-group">
    <app-auth-input
      label="Adresse email"
      type="email"
      placeholder="exemple@email.com"
      [(value)]="user.email"
      [disabled]="isLoading()">
    </app-auth-input>
  </div>

  <div class="form-group">
    <app-auth-input
      label="Mot de passe"
      type="password"
      placeholder="********"
      [(value)]="user.password"
      [disabled]="isLoading()">
    </app-auth-input>
  </div>

  @if (!isLogin) {
    <div class="form-group">
      <app-auth-input
        label="Confirmer le mot de passe"
        type="password"
        placeholder="********"
        [(value)]="user.confirmPassword"
        [disabled]="isLoading()">
      </app-auth-input>
    </div>

    @if (userRole === 'CLIENT') {
      <div class="form-group">
        <app-interest-selector 
          (preferencesChange)="onPreferencesChange($event)">
        </app-interest-selector>
      </div>
    }
  }

  <div class="form-actions">
    <app-auth-button
      [text]="isLogin ? 'Se connecter' : 'CrÃ©er mon compte'"
      type="submit"
      [disabled]="isLoading()">
    </app-auth-button>
  </div>

</form>