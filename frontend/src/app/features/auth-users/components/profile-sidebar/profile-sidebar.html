<aside class="w-full md:w-64 lg:w-72 flex-shrink-0">
    <div class="sticky top-24 bg-white dark:bg-[#1a1d2d] rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden">
        <div class="p-6 border-b border-slate-100 dark:border-slate-800 flex flex-col items-center text-center gap-3">
            <div class="w-20 h-20 rounded-full p-1 border-2 border-primary/20 relative">
                <div class="w-full h-full rounded-full bg-cover bg-center" [style.background-image]="'url(' + userAvatar + ')'"></div>
                <button class="absolute bottom-0 right-0 p-1.5 bg-primary text-white rounded-full shadow-lg border-2 border-white dark:border-[#1a1d2d]">
                    <span class="material-symbols-outlined text-[16px]">photo_camera</span>
                </button>
            </div>
            <div>
                <h3 class="text-base font-bold text-slate-900 dark:text-white">{{ userInfo().name }}</h3>
                <p class="text-xs text-slate-500 dark:text-slate-400 mt-1">{{ userRole() }}</p>
            </div>
        </div>
        <nav class="p-3 flex flex-col gap-1">
            <a routerLink="/profile" routerLinkActive="bg-primary text-white font-medium shadow-md shadow-primary/20" 
               class="flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors">
                <span class="material-symbols-outlined text-[20px]">person</span>
                <span>Profil Commun</span>
            </a>
            
            <!-- Client Activities (only if user is CLIENT) -->
            @if (userRoleEnum() === Role.CLIENT) {
                <div class="px-4 py-2 mt-2 text-[10px] font-bold uppercase tracking-wider text-slate-400 dark:text-slate-500">Activités Client</div>
                <a routerLink="/client/my-tickets" 
                   class="flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors">
                    <span class="material-symbols-outlined text-[20px]">confirmation_number</span>
                    <span>Mes Billets</span>
                </a>
                <a routerLink="/my-orders" 
                   class="flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors">
                    <span class="material-symbols-outlined text-[20px]">receipt_long</span>
                    <span>Mes Commandes</span>
                </a>
            }
            
            <!-- Organizer Activities (only if user is ORGANIZER) -->
            @if (userRoleEnum() === Role.ORGANIZER) {
                <div class="px-4 py-2 mt-2 text-[10px] font-bold uppercase tracking-wider text-slate-400 dark:text-slate-500">Activités Organisateur</div>
                <a routerLink="/my-events" 
                   class="flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors">
                    <span class="material-symbols-outlined text-[20px]">event</span>
                    <span>Mes Événements</span>
                </a>
                <a routerLink="/dashboard" 
                   class="flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors">
                    <span class="material-symbols-outlined text-[20px]">monitoring</span>
                    <span>Tableau de bord</span>
                </a>
            }
            
            <div class="my-2 border-t border-slate-100 dark:border-slate-800"></div>
            <button (click)="logout()" 
                    class="flex items-center gap-3 px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors">
                <span class="material-symbols-outlined text-[20px]">logout</span>
                <span>Déconnexion</span>
            </button>
        </nav>
    </div>
</aside>
