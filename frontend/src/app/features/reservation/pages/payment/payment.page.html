<div
    class="bg-background-light dark:bg-background-dark text-[#0d101c] dark:text-gray-100 font-display min-h-screen flex flex-col">
    <app-header />

    <main class="flex-grow w-full max-w-[1200px] mx-auto px-4 md:px-6 py-8">
        <app-breadcrumb [steps]="breadcrumbSteps()" />

        <h1 class="text-[#0d101c] dark:text-white text-3xl font-bold leading-tight mb-8">
            Finaliser votre commande
        </h1>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
            <div class="lg:col-span-7 xl:col-span-8 flex flex-col gap-6">
                <app-contact-form [triggerValidation]="triggerValidation()"
                    (validationStatus)="onContactValidation($event)" (formData)="onContactData($event)" />

                <app-payment-form [triggerValidation]="triggerValidation()"
                    (validationStatus)="onPaymentValidation($event)" (formData)="onPaymentData($event)" />

                <app-validation-section [amount]="totalAmount()" [isProcessing]="isProcessing()"
                    (submitPayment)="handlePayment()">
                </app-validation-section>

            </div>

            <div class="lg:col-span-4">
                <app-timer />
                <app-seat-cart-summary [selectedSeats]="selectedSeats()" [subtotal]="cartSubtotal()"
                    [serviceFee]="cartServiceFee()" [total]="cartTotal()" [readonly]="true" />
            </div>
        </div>
    </main>
</div>