### Variables (replace with real IDs after seeding)
@baseUrl = http://localhost:3000
@ticketId = {{ticketId}}
@eventId = {{eventId}}
@userId = {{userId}}
@reservationId = {{reservationId}}
@scanLogId = {{scanLogId}}
@token = {{token}}

### ========== ACCESS – TICKETS & CHECK-IN ==========

### Generate QR code for a ticket
POST {{baseUrl}}/access/generate-qr
Content-Type: application/json

{
  "ticketId": "{{ticketId}}"
}

### Refresh QR code (new token)
POST {{baseUrl}}/access/refresh-qr/{{ticketId}}

### Get tickets by user
GET {{baseUrl}}/access/tickets/user/{{userId}}

### Get tickets by reservation (new endpoint)
GET {{baseUrl}}/access/tickets/reservation/{{reservationId}}

### Check-in (validate and scan ticket) – qrCode is the QR payload string
POST {{baseUrl}}/access/check-in
Content-Type: application/json

{
  "qrCode": "{\"ticketId\":\"{{ticketId}}\",\"eventId\":\"{{eventId}}\",\"userId\":\"{{userId}}\",\"token\":\"...\",\"timestamp\":1234567890}",
  "scannedBy": "controller-user-id",
  "location": "Main entrance",
  "deviceInfo": "Scanner 1"
}

### ========== SCANLOG – SCAN HISTORY & STATS ==========

### Get scan statistics for all events
GET {{baseUrl}}/scanlog/stats

### Get scan logs for a specific ticket
GET {{baseUrl}}/scanlog/ticket/{{ticketId}}

### Get scan logs for a specific event
GET {{baseUrl}}/scanlog/event/{{eventId}}

### Get scan logs for a specific scanner/controller
GET {{baseUrl}}/scanlog/scanner/controller-user-id

### Get a specific scan log by ID
GET {{baseUrl}}/scanlog/{{scanLogId}}

### Get all scan logs with optional filters
GET {{baseUrl}}/scanlog
