### Variables (replace with real IDs after seeding)
@baseUrl = http://localhost:3000
@reservationId = {{reservationId}}
@paymentId = {{paymentId}}
@token = {{token}}

### ========== PAYMENTS ==========

### Create payment (requires CLIENT role - use a PENDING reservation ID)
POST {{baseUrl}}/payments
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "reservationId": "{{reservationId}}",
  "cardNumber": "5111111111111111",
  "cardHolder": "John Doe",
  "expiryDate": "12/25",
  "cvc": "123"
}

### Refund a payment (requires ORGANIZER role)
POST {{baseUrl}}/payments/refund
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "paymentId": "{{paymentId}}",
  "amount": 90.00,
  "reason": "Cancelled event"
}

### Get my payments (requires CLIENT role)
GET {{baseUrl}}/payments
Authorization: Bearer {{token}}

### Get payment by ID (requires CLIENT, ORGANIZER, or ADMIN role)
GET {{baseUrl}}/payments/{{paymentId}}
Authorization: Bearer {{token}}

### Get successful payment by reservation ID (requires CLIENT, ORGANIZER, or ADMIN role)
GET {{baseUrl}}/payments/reservation/{{reservationId}}/successful
Authorization: Bearer {{token}}
